doctype html
html
  head
    title Vote history
    link(href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css", rel="stylesheet")
    meta(name='viewport', content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0, shrink-to-fit=no')
    script(src="https://code.jquery.com/jquery-3.3.1.min.js")
  body
    .container
      br
      if polls.length == 0
        h1(class='text-center') No vote history
      else
        h1 Vote history
        br
        table(class='table table-striped')
          thead(class='thead-dark')
            tr
              th Name
              th(class='text-right') Votes
          each poll in polls
            thead(class='thead-light')
              tr
                th= poll.name + ' | ' + poll.winners + ' winner(s) | ' + poll.voters.length + ' voters'
            tbody
              each votes, candidate in poll.candidates
                tr
                  td= candidate
                  td(class='text-right')= votes + ' (' + (votes / poll.voters.length * 100).toFixed(2) + '%)'
        br
    script(src='/javascripts/history.js')
